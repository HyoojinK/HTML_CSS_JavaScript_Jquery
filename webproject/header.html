<header id="header">
  <div class="cf row">
    <h1>
      <a href="index.html">
        <img
          src="images/0947241214cca482b8ec463d7446b8d3.png"
          alt="명품웹프로그래밍"
      /></a>
    </h1>
    <div class="opennav">
      <span class="blind">메뉴 열기</span>
      <i class="fa-solid fa-bars"></i>
    </div>
    <div class="mobnav">
      <div class="member">
        <a href="login.html">로그인</a>
        <a href="join.html">회원가입</a>
        <a href="cart.html">장바구니</a>
      </div>
      <nav id="nav">
        <ul class="depth1">
          <li>
            <a href="index.html"> Home</a>
          </li>
          <li>
            <a href="AboutBook.html"> Introduction</a>
            <span class="blind">열기</span>
            <i class="fa-solid fa-chevron-down"></i>
            <ul class="depth2">
              <li>
                <a href="AboutBook.html">About Book</a>
              </li>
              <li>
                <a href="http://webprogramming.co.kr/about_ide">About IDE</a>
              </li>
            </ul>
          </li>
          <li><a href="notice.html">Notice</a></li>
          <li>
            <a href="#">Board</a>
            <span class="blind">열기</span>
            <i class="fa-solid fa-chevron-down"></i>
            <ul class="depth2">
              <li>
                <a href="http://webprogramming.co.kr/knowhow">Know-How</a>
              </li>
              <li>
                <a href="http://webprogramming.co.kr/admins_blog"
                  >Admin's Blog</a
                >
              </li>
              <li><a href="http://webprogramming.co.kr/qna">Q&amp;A</a></li>
            </ul>
          </li>
          <li>
            <a href="#"> 판매제품</a>
            <span class="blind">열기</span>
            <i class="fa-solid fa-chevron-down"></i>
            <ul class="depth2">
              <li><a href="woman.html">여성의류</a></li>
              <li>
                <a href="man.html">남성의류</a>
              </li>
              <li>
                <a href="schedule.html">국가자격시험일정</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="example.html">Code</a>
            <span class="blind">열기</span>
            <i class="fa-solid fa-chevron-down"></i>
            <ul class="depth2">
              <li>
                <a href="example.html">Example</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <div class="mobnavclose">
        <span class="blind">메뉴닫기</span>
        <i class="fa-solid fa-rectangle-xmark"></i>
      </div>
    </div>
  </div>
</header>

<script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
<script>
  let myid = sessionStorage.getItem("userid");
  let mypw = sessionStorage.getItem("userpw");
  let type = sessionStorage.getItem("type");
  if (myid && mypw) {
    $(".member a")
      .eq(0)
      .attr({
        href: "javascript:;",
      })
      .text("로그아웃");
    $(".member a")
      .eq(1)
      .attr({
        href: "./modify.html",
      })
      .text("정보수정");
  }
  $(".member a")
    .eq(0)
    .on("click", function () {
      let text = $(this).text();
      if (text == "로그아웃") {
        if (type == "myacc") {
          sessionStorage.clear();
          localStorage.clear();
        } else if (type == "kakao") {
          sessionStorage.clear();
          localStorage.clear();
          kakaoLogout();
        }
        $(this)
          .attr({
            href: "./login.html",
          })
          .text("로그인");
        $(this)
          .next()
          .attr({
            href: "./join.html",
          })
          .text("회원가입");
        location.href = "./index.html";
        return false;
      }
    });

  function kakakoLogout() {
    Kakao.init("98bb2e2bd1adba4b911f293825cf0f3b");
    if (Kakao.Auth.getAccessToken()) {
      Kakao.API,
        requset({
          url: "/v1/user/unlink",
          success: function (response) {
            console.log(response);
          },
          fail: function (error) {
            console.log(error);
          },
        });
      Kakao.Auth.setAccessToken(undefined);
    }
  }
</script>
